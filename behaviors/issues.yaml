---
bundle:
  name: issues
  version: 2.0.0
  description: Issue-aware bundle with autonomous issue management and persistent tracking

tools:
  - module: tool-issue
    source: git+https://github.com/microsoft/amplifier-bundle-issues@main#subdirectory=modules/tool-issue
    config:
      data_dir: ~/.amplifier/projects/{project}/issues
      auto_create_dir: true
      actor: assistant

  - module: tool-slash-command
    source: git+https://github.com/microsoft/amplifier-module-tool-slash-command@main
    # TODO: Uncomment when https://github.com/microsoft/amplifier/issues/200 is fixed
    # config:
    #   commands:
    #     - git+https://github.com/microsoft/amplifier-bundle-issues@main#subdirectory=commands

hooks:
  - module: hook-issue-session-start
    source: git+https://github.com/microsoft/amplifier-bundle-issues@main#subdirectory=modules/hook-issue-session-start
    config:
      priority: 5
      nudge_interval: 10
      inject_role: user

  - module: hook-issue-auto-work
    source: git+https://github.com/microsoft/amplifier-bundle-issues@main#subdirectory=modules/hook-issue-auto-work
    config:
      priority: 100
      max_auto_iterations: 10
      inject_role: system

context:
  include:
    - issues:context/issues-instructions.md